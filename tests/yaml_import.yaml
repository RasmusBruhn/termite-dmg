data_types:
- name: PositiveDouble
  data: !ConstrainedType
    data_type: number
    constraints:
    - x > 0.0
- name: Point
  description: A point in 2D space
  data: !Struct
    fields:
    - name: x
      data_type: number
      default: !Default 0.0
    - name: y
      data_type: number
      default: !Default $DEFAULT_COORDINATE$
    - name: id
      data_type: integer
      default: Optional
- name: Size
  description: The size of a box
  data: !Struct
    fields:
    - name: w
      description: The width
      data_type: PositiveDouble
      default: Required
    - name: h
      description: The height
      data_type: PositiveDouble
      default: Required
- name: SizeVariant
  description: Is either a Size or just a PositiveDouble if it is a square
  data: !Variant
    data_types:
    - PositiveDouble
    - Size
- name: SizeArray
  data: !Array
    data_type: SizeVariant
- name: Geometry
  data: !Enum
    types:
    - name: Nothing
      description: No geometry
    - name: Sizes
      description: A number of sizes
      data_type: SizeArray
    - name: Point
      description: A point
      data_type: Point
- name: NamedGeometry
  data: !Struct
    fields:
    - name: geometry
      description: The geometry data
      data_type: Geometry
      default: !Default
        Point:
          x: 1.0
          id: 0
    - name: name
      description: The name of the geometry
      data_type: string
      default: Required
headers:
  cpp-header: "// My .h Header with message: $MESSAGE$"
  cpp-source: "// My .cpp Header and this is a dollar sign: $$"
footers:
  cpp-header: // My .h Footer
  cpp-source: // My .cpp Footer
macros:
  DEFAULT_COORDINATE: 0.0
  MESSAGE: This is a macro message
namespace:
- my_namespace
